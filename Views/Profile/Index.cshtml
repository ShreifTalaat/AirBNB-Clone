@model AirBNB.Controllers.profileViewModel
@{
    Layout = null;
    var x = ViewBag.Loggedid;
    int total = 0;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <!-- Link to Bootstrap CSS file -->
    <link rel="stylesheet" href="~/bootstrap.css" />
    <!-- Link to custom CSS file -->
    @* <link rel="stylesheet" href="~/Account/Account settings/Account-Settings.css" />*@

</head>

<body>
    <!-- Navigation Bar -->
    <section>
        <header class="site-header sticky-top py-1">
            <nav class="navbar navbar-light">
                <div class="container d-inline-flex justify-content-between">
                    <a class="navbar-brand" asp-controller="Home" asp-action="Index">
                        <img src="~/Resources/logoLogo.svg" alt="logo">
                    </a>
                </div>
            </nav>
            <hr />
        </header>
    </section>

    <section>
        <div class="container-lg p-lg-5">
            <div class="row">
                <!-- Profile card section -->
                <div class="badge border rounded-3 col-md-3 pt-lg-4 pb-lg-4 ps-lg-4">
                    @if (Model.user.Email == x)
                    {
                        <form asp-action="index" enctype="multipart/form-data">
                            <div class="img ">
                                <img id="profile picture" src="data:image/*;base64,@(Convert.ToBase64String(Model.user.Profile_Picture))" alt="user profile" class="w-50 border-0 rounded-circle" style="aspect-ratio: 1/1;">
                            </div>
                            <label asp-for="user.Profile_Picture" class="btn-link text-black">
                                <a hidden asp-action="Index" asp-route-UserId="@Model.user.Id"></a>
                                Update photo
                            </label>
                            <input asp-for="user.Profile_Picture" type="file" accept="image/*" alt="profile image"
                               onchange="document.getElementById('profile picture').src=window.URL.createObjectURL(this.files[0]);
                                        document.getElementById('submitimage').click() ;"
                               hidden />
                            <button id="submitimage" type="submit" hidden></button>
                        </form>
                    }
                    else
                    {
                        <div class="img ">
                            <img src="data:image/*;base64,@(Convert.ToBase64String(Model.user.Profile_Picture))" alt="user profile" class="w-50 border-0 rounded-circle" style="aspect-ratio: 1/1;">
                        </div>
                    }
                
                    <div class="text-start pt-4">
                        <svg class="text-black d-inline" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"
                             style="display:block;height:24px;width:24px;fill:currentColor" aria-hidden="true" role="presentation"
                             focusable="false">
                            <path d="M16 .798l.555.37C20.398 3.73 24.208 5 28 5h1v12.5C29 25.574 23.21 31 16 31S3 25.574 3 17.5V5h1c3.792 0 7.602-1.27 11.445-3.832L16 .798zm0 2.394l-.337.213C12.245 5.52 8.805 6.706 5.352 6.952L5 6.972V17.5c0 6.831 4.716 11.357 10.713 11.497L16 29c6.133 0 11-4.56 11-11.5V6.972l-.352-.02c-3.453-.246-6.893-1.432-10.311-3.547L16 3.192zm7 7.394L24.414 12 13.5 22.914 7.586 17 9 15.586l4.5 4.499 9.5-9.5z">
                            </path>
                        </svg>
                        <div class="d-inline p-2 ">
                            <span class="text-black align-middle fs-6 fw-semibold ">Identity verified</span>
                        </div>
                    </div>
                    <!-- line -->
                    <div class="pt-4 pe-3">
                        <hr class="text-black-50">
                    </div>
                    <div class="text-start pt-4">
                        <p class="text-black align-middle fs-4 fw-semibold ">@Model.user.First_Name </p>
                    </div>
                    <div class="text-start pt-4">
                        <svg class="text-black d-inline" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                             style="display:block;height:16px;width:16px;fill:currentColor" aria-hidden="true" role="presentation"
                             focusable="false">
                            <path d="M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z"></path>
                        </svg>
                        <div class="d-inline p-2 "><span class="text-black align-middle fs-6 fw-lighter">Identity</span></div>
                    </div>
                    <div class="text-start pt-4">
                        <svg class="text-black d-inline" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                             style="display:block;height:16px;width:16px;fill:currentColor" aria-hidden="true" role="presentation"
                             focusable="false">
                            <path d="M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z"></path>
                        </svg>
                        <div class="d-inline p-2 "><span class="text-black align-middle fs-6 fw-lighter">Email address</span></div>
                    </div>
                    <div class="text-start pt-4">
                        <svg class="text-black d-inline" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                             style="display:block;height:16px;width:16px;fill:currentColor" aria-hidden="true" role="presentation"
                             focusable="false">
                            <path d="M13.102 2.537L15.365 4.8l-9.443 9.443L.057 8.378 2.32 6.115l3.602 3.602z"></path>
                        </svg>
                        <div class="d-inline p-2 "><span class="text-black align-middle fs-6 fw-lighter">Phone number</span></div>
                    </div>
                    <div class="text-start pt-4">
                        <p class="fw-light lh-sm text-black text-wrap">
                            <a href="" class="text-black text-decoration-underline">
                                Learn
                                more
                            </a> about how confirming account info helps keep the Airbnb community secure.
                        </p>
                    </div>
                </div>
                <!-- space -->
                <div class="col-md-1"> </div>
                <!-- Content  -->
                <div class="col-md-7 text-start text-black p-lg-0 p-md-3">
                    <p class="fs-2 fw-semibold m-0">Hi, I’m @Model.user.First_Name</p>
                    <p class="fw-light text-black-50">Joined in @Model.user.Join_Date.Year</p>
                    @*  <p class="fs-4 fw-semibold m-0">About</p>
                    <p class="text-wrap">
                    Travel | Geography | History | Politics | Finance | Business | Architecture | Cities |
                    Skyscrapers | Beaches | Football | Great Food
                    </p>*@
                    <div class="pt-3">
                        <svg class="text-black d-inline" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"
                             style="display:block;height:16px;width:16px;fill:currentColor" aria-hidden="true" role="presentation"
                             focusable="false">
                            <path d="M8.602 1.147l.093.08 7.153 6.914-.696.718L14 7.745V14.5a.5.5 0 0 1-.41.492L13.5 15H10V9.5a.5.5 0 0 0-.41-.492L9.5 9h-3a.5.5 0 0 0-.492.41L6 9.5V15H2.5a.5.5 0 0 1-.492-.41L2 14.5V7.745L.847 8.86l-.696-.718 7.153-6.915a1 1 0 0 1 1.297-.08z">
                            </path>
                        </svg>
                        <div class="d-inline p-2">
                            <span class="text-black align-middle fs-6 fw-medium">
                                Lives in @Model.user.City
                            </span>
                        </div>
                    </div>
                    @*        <div class="pt-3">
                    <svg class="text-black d-inline" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"
                    style="display:block;height:16px;width:16px;fill:currentColor" aria-hidden="true" role="presentation"
                    focusable="false">
                    <path d="m26 2h-20a5 5 0 0 0 -5 5v14l.005.217a5 5 0 0 0 4.995 4.783h5.843l4.157 5.08 4.155-5.08h5.845a5 5 0 0 0 5-5v-14a5 5 0 0 0 -5-5z">
                    </path>
                    </svg>
                    <div class="d-inline p-2"><span class="text-black align-middle fs-6 fw-medium">Speaks English</span></div>
                    </div>*@
                    <!-- line -->
                    <div class="pt-3">
                        <hr class="text-black-50">
                    </div>
                    <!-- optionel panel -->
                    @if (Model.properties.Count > 0)
                    {
                        <div id="optionel">
                            <p class="fs-4 fw-semibold">@Model.user.First_Name’s listings</p>
                            <div class="row">
                                @foreach (var prop in Model.properties)
                                {
                                 
                                    <div class="col-lg-6 property-card">
                                            <a asp-controller="Home" asp-action="PropertyDetails" asp-route-id="@prop.ID" ; class="text-decoration-none text-black">
                                        <img src="~/Prop.Image/Prop1/@prop.PropertyImages.First().URL"
                                     alt="Property image" style="aspect-ratio:1/1;" class="rounded w-100">
                                       
                                        <div>
                                            <p class="d-inline">@prop.Catogery.Name</p>
                                        </div>
                                        <p class="text-truncate">@prop.Description</p>
                                          </a>
                                    </div>
                                  
                                }
                            </div>

                        </div>
                    }
                </div>
            </div>
        </div>
    </section>
    <div class="footer pt-4 pb-4">
        <div class="container">
            <div class="row">
                <div class="col-6">
                    <ul class="list-group list-group-horizontal">
                        <li type="none">© 2023 Airbnb, Inc.</li>
                        <span class="ms-2 me-2">·</span>
                        <a href="https://www.airbnb.com/help/article/2908" class="text-dark">
                        <li type="none">Terms</li>
                        </a>
                        <span class="ms-2 me-2">·</span>
                        <a href="https://www.airbnb.com/help/article/2855" class="text-dark">
                        <li type="none">Privacy</li>
                        </a>
                    </ul>
                </div>
                <div class="col-2"></div>
                <div class="col-4">
                    <div>
                        <a href="https://www.facebook.com/airbnb" class="text-decoration-none">
                            <img src="~/PropertDetails/Resources/facebook-logo.png" alt="facebook" style="width: 1.5rem;">
                        </a>
                        <a href="https://twitter.com/airbnb" class="text-decoration-none">
                            <img src="~/PropertDetails/Resources/twitter-icon.png" alt="twitter" style="width: 1.5rem;" class="ms-4">
                        </a>
                        <a href="https://www.instagram.com/airbnb/" class="text-decoration-none">
                            <img src="~/PropertDetails/Resources/instagram-icon.png" alt="instagram" style="width: 1.5rem;" class="ms-4">
                        </a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>